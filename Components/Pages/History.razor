@page "/history"
@rendermode InteractiveServer
@using ApexCharts
@using Blazor.Models
@using Blazor.Interfaces
@inject ILitterService _litterService

@* <div class="page-container">
    <ApexChart TItem="totalLitter" Title="Totaal gedetecteerd afval">

    <ApexPointSeries TItem="totalLitter"
                Items="litterPerCamera"
                SeriesType="SeriesType.Donut"
                Name="Gross Value"
                XValue="@(e => e.Country)"
                YAggregate="@(e => e.Sum(e => e.GrossValue))"/>
    </ApexChart>
</div> *@

@code {
    List<Camera> cameras = new();

    protected override async Task OnInitializedAsync()
    {
        await GetCamerasAsync();
    }

    private async Task GetCamerasAsync()
    {
        var cameraResult = await _litterService.GetCamerasAsync();
        if (cameraResult is null)
        {
            @* GENIUS ERROR! *@
            return;
        }

        cameras = cameraResult;
    }
}